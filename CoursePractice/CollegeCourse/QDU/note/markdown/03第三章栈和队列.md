# 第三章栈和队列

[toc]

## 1. 栈和队列的定义和特点

- 栈和队列是两种常用的、重要的数据结构
- 栈和队列是限定插入和删除只能在**表的“端点”**进行的`线性表`
    - **栈和队列是线性表的子集(是插入和删除位置`受限`的线性表)**

- 线性表 和 栈队列
    - 线性表
        - `Insert(L,i,x)` $1\leq i \leq n+1$
        - `Delete(L,i)` $1\leq i \leq n$
     - 栈 后进先出
        - `Insert(S,n+1,x)`
        - `Delete(S,n)`
      - 队列 先进先出
        - `Insert(Q,n+1,x)`
        - `Delete(Q,1)`


- 由于栈的操作具有`后进先出`的固有特性，使得栈称为程序设计中的有用工具。另外，如果问题求解的过程具有后进先出的天然特性的话，则求解的算法中也必然用到 栈
    - `数值转换`
    - `表达式求值`
    - `括号匹配的检验`
    - `八皇后问题`
    - `行编辑程序`
    - `函数调用`
    - `迷宫求解`
    - `递归调用的实现`
    - ...
    

- 由于队列的操作具有`先进先出`的特性，使得队列称为程序设计中解决类似排队问题的有用工具
    - `脱机打印输出：按申请的先后顺序依次输出`
    - `多用户系统中，多个用户排队，分时的循环使用CPU和主存`
    - `按用户的优先级排成多个队，每个优先级一个队列`
    - `实时控制系统中，信号按接收的先后顺序依次处理`
    - `网络电文传输，按到达的时间先后顺序依次进行`

### 栈的定义和特点

- **`栈(stack)`** 是一个特殊的线性表，是限定仅在一端(通常是`表尾`)进行插入和删除操作的线性表。
- 又称为`后进先出`的线性表，简称`LIFO`结构
- **`栈的相关概念`**
    - `栈` 是仅在表尾进行插入、删除操作的线性表
    - 表尾(即$a_n$端)称为`栈顶`(Top)；表头(即$a_1$端)称为`栈底`Base
    - 插入元素到`栈顶`(即表尾)的操作，叫做 `入栈`
    - 从`栈顶`(即表尾)删除最后一个元素的操作，称为 `出栈`


### 队列的定义和特点

- `队列(queue)`是一种`先进先出(First In First Out ---- FIFI)` 的线性表。在表一端插入(表尾)，在另一端(表头)删除。
- 队列的相关概念
    - **定义**：只能在表的一端进行插入运算，在表的另一端进行删除运算的线性表(**头删尾插**)
    - **逻辑结构**：和线性表相同，仍然是**一对一**的关系
    - **存储结构**：**顺序队**或**链队**，以循环顺序队列更常见
    - **运算规则**：只能在队首和队尾运算，且访问结点时按照**先进先出**的原则。
    - **实现方式**：关键是掌握**入队**和**出队**操作，具体实现顺序队或链队的不同而不同。


## 2. 案例引入

分别是四个案例(前三个是`栈`有关问题，后一个是`队列`有关问题)
- 案例3.1 进制转换
- 案例3.2 括号匹配的检验
- 案例3.3 表达式求值
- 案例3.4 舞伴问题

> **案例3.1 进制转换**
> 十进制整数N向其他机制数d(二、八、十六)的转换是计算机实现计算的基本问题。
`转换法则：除以d倒取余`
该转换法则对应一个简单算法原理(其中：div为整除运算，mod为求余运算)
`n=(n div d)*d + n mod d`

- 例 把十进制数159转换成八进制数
159/8=19--7
19/8=2--3
2/8=0--2
所以得`237`


---

> 案例3.2 括号匹配的检验
> - 假设表达式中允许包含两种括号：圆括号和方括号
> - 其嵌套得顺序随意，即：
> 1. `( [] () )` 或者 `[([][])]`为正确格式
> 2. `[ ( ] )`为错误格式
> 3. `( [ ( ) )` 或者 `(()])`为错误格式

利用栈来进行匹配 

---

> 案例3.3 表达式求值
> - 表达式求值是程序设计语言编译中一个基本问题，它得实现也需要用到栈
> - 这里介绍得算法是由运算符优先级确定运算顺序的对表达式求值算法 --- `算符优先算法`

- 表达式的组成
    - `操作数`(operand)：常数、变量
    - `运算符`(operator)：算术运算符、关系运算符和逻辑运算符
    - `界限符`(delimiter)：左右括弧和表达式结束符
- 任何一个算术表达式都由`操作数`、`算术运算符(+、-、*、/)`和界限符(括号、表达式结束符'#'、虚设的表达式起始符'#')组成。后两者统称为算符。
- 例如：# 3 * (7-2) #
- 为了实现表达式求值。需要设置两个栈

---

> 案例3.4 舞伴问题
> - 假设在舞会上，男士和女士各自排成一队，舞会开始时，依次从男队和女队的队头各出一人配成舞伴。如果两队初始人数不相同，则较长的那一队中未配对者等待下一轮圆舞曲。现要求写一算法模拟上述舞伴问题

- 显然，先入队的男士或女士先出队配成舞伴。因此该问题具有典型的先进先出特性，可以用队列作为算法的数据结构。
    - 首先构造两个队列
    - 依次将队头元素出队配成舞伴
    - 某队为空，则另外一队等待着则是下一圆舞曲的第一个可获得舞伴的人


## 3. 栈的表示和操作的实现

## 4. 栈与递归

## 5. 队列的表示和操作的实现

## 6. 案例的分析和实现

