# 第四章串数组和广义表

## 1. 串的定义

- **`串(String)`**---零个或多个任意`字符组成的有限序列`
    - $S = $ " $a_1a_2...a_n$"

- **`串的几个术语`**
    - **子串**：串中任意个连续字符组成的`子序列`(或空串)称为该串的子串。
        - 例如："abcde"的子串有：”“、”a“、”ab“、  ”abc“、”abcd“、"abcde"等
        - **真子串**是指不包含本身的所有子串
    - **主串**：包含子串的串相应的称为`主串`
    - **字符位置**：字符`在序列中的序号`为该字符在串中的位置
    - **子串位置**：`子串第一个字符`在主串中的位置
    - **空格串**：由一个或多个空格组成的串，`与空串不同`
    - **串相等**：当且仅当两个串的长度相等并且各个对应位置上的字符都相同时，这两个串才是相等的。
        - 所有`空串`都是`相等`的

## 2. 案例引入

> 串的应用非常广泛，计算机上的非数值处理的对象大部分是字符串数据，例如：文字编辑、符号处理，各种信息处理系统等等。

### 2.1. 病毒感染检测

> 案例4.1 病毒感染检测
> 研究者将人的DNA和病毒的DNA均表示成由一些字母组成的字符串序列

- 然后检测某种病毒DNA序列是否在患者的DNA序列中出现过，如果出现过，则此人感染了该病毒，否则没有感染。
    - 例如：假设病毒的DNA的序列是`baa`，患者1的DNA序列为**a`aad`bbba**，则感染；患者2的DNA序列是**babbba**，则未感染
    - 注意：人的DNA序列是线性的，而病毒的DNA序列是环状的
    



## 3. 串的类型定义、存储结构及其运算

### 3.1. 串的类型定义、存储结构

```c
ADT String{
    数据对象: D={ai|ai∈CharacterSet,i=1,2,...,n,n≥0}
    数据关系: R1={<ai-1,ai>|ai-1,ai∈D,i=1,2,...,n}
    基本操作:
        StrAssign(&T,chars) //串赋值
        StrCompare(S,T) // 串比较
        StrLength(S) // 求串长
        Concat(&T,S1,S2) //串连结
        SubString(&Sub,S,pos,len) //求子串
        StrCopy(&T,S) //串拷贝
        StrEmpty(S) //串判空
        ClearString(&S) //清空串
        Index(S,T,pos) //子串的位置
        Replace(&S,T,V) //串替换
        StrInsert(&S,pos,T) //子串插入
        StrDelete(&S,pos,len) //子串删除
        DestroyString(&S) //串销毁
}ADT String
```

- 串的顺序存储结构

```c
#define MAXLEN 255
typedef struct{
    char ch[MAXLEN+1]; //存储串的一维数组
    int length;//串的当前长度
}SString;
```

- 串的链式存储结构
 
```c
#define CHUNKSIZE 80 // 块的大小可由用户定义
typedef struct Chunk{
    char ch[CHUNKSIZE];
    struct Chunk *next;
}Chunk;

typedef struct{
    Chunk *head,*tail; //串的头指针和尾指针
    int curlen; //串的当前长度
}LString;//字符串的块链结构

```

- 现实中顺序存储结构用的更多，因为现实中串很少插入和删除


### 3.2. 串的运算

#### 3.2.1. 串的模式匹配算法

#### 3.2.2. KMP算法

## 4. 数组

### 4.1. 数组的定义和特点

- **数组**：按一定格式排列起来的，具有`相同类型`的数据元素的集合
- 一维数组 
    - **一维数组**：若线性表中的数据元素为非结构的简单元素，则称为一维数组
    - **一维数组的逻辑结构**：`线性结构`。定长的线性表。
    - **声明格式**：数据类型 变量名称[长度]
- 二维数组
    - 二维数组：若一维数组中的数据元素又是一维数组结构，则称为二维数组
    - 二维数组的逻辑结构
        - 非线性结构：每一个数据元素既在一个行表中，又在一个列表中
        - 线性结构(定长的线性表)：该线性表的每个数据元素也是一个定长的线性表。
    - 声明格式：**数据类型 变量名称[行数][列数]**
- 三维数组
    - 三维数组：若二维数组中的元素又是一个一维数组，则称作三维数组
...
- n维数组：若n-1维数组中的元素又是一个一维数组结构，则称作n维数组。

- **`结论：线性表结构是数组结构的一个特例，而数组结构又是线性表结构的扩展。`**
    - 数组特点：`结构固定`。——定义后，维数和维界不再改变。
    - 数组借本操作：除了结构的`初始化`和`销毁`之外，只有`取元素`和`修改元素值`的操作。

### 4.2. 数组的抽象类型定义

```c
ADT Array{
    数据对象: $j_i=0,...b_i-1,i=1,2,...,n$
             $D={a_{j_1j_2...j_n}|a_{j_1j_2...j_n}∈ElemSet}$
    数据关系: 略
    基本操作:
        InitArray(&A,n,bound1,...boundn) //构造数组A
        DestroyArray(&A) //销毁数组A
        Value(A,&e,index1,...,indexn) //取数组元素值
        Assign(A,&e,inde1,...,indexn) //给数组元素赋值
    
}ADT Array
```

### 4.3. 数组的顺序存储

- 因为
    - 数组特点：`结构固定`——维数和维界不变
    - 数组基本操作：初始化、销毁、取元素、修改元素(一般不插入删除)
- 所以
    - 一般都是采用`顺序存储结构`来表示数组
- `注意`：数组可以是多维的，但存储数据元素的内存单元地址是一维的，因此，在存储数组结构之前，需要解决将多维关系映射到一维关系的问题。




### 4.4. 特殊矩阵的压缩存储

#### 4.4.1. 对称矩阵

#### 4.4.2. 三角矩阵


#### 4.4.3. 对角矩阵

#### 4.4.4. 稀疏矩阵



## 5. 广义表

## 6. 案例分析与实现

## 7. 小结